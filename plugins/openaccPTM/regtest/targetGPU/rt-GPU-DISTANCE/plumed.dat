LOAD FILE=../../../../plumedOpenACC.so
#original test was 3 task of 3 components, this is 4 task of 3 componets, so I can manage better where the 3 comes from

d1cpu: DISTANCE COMPONENTS ATOMS1=1,2 ATOMS2=3,4 ATOMS3=5,6  ATOMS4=1,6
d1: DISTANCE USEGPU COMPONENTS ATOMS1=1,2 ATOMS2=3,4 ATOMS3=5,6  ATOMS4=1,6
v: VSTACK ARG=d1.x,d1.y,d1.z
vT: TRANSPOSE ARG=v
s: SUM ARG=vT PERIODIC=NO
diff_x: CUSTOM ARG=d1.x,d1cpu.x FUNC=y-x PERIODIC=NO
diff_y: CUSTOM ARG=d1.y,d1cpu.y FUNC=y-x PERIODIC=NO
diff_z: CUSTOM ARG=d1.z,d1cpu.z FUNC=y-x PERIODIC=NO
PRINT ARG=diff_x,diff_y,diff_z FILE=diff FMT=%8.4f 
PRINT ARG=d1.* FILE=dists FMT=%8.4f 
PRINT ARG=s FILE=colvar FMT=%8.4f 
BIASVALUE ARG=s
